<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="600" d:DesignHeight="60"
             x:Class="HolocronToolset.Widgets.MediaPlayerWidget"
             Background="Transparent"
             MinHeight="56"
             MaxHeight="60">
  <UserControl.Styles>
    <Style Selector="Button">
      <Setter Property="Background" Value="Transparent"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="Padding" Value="8"/>
      <Setter Property="Cursor" Value="Hand"/>
      <Setter Property="FontSize" Value="14"/>
      <Setter Property="Foreground" Value="{DynamicResource ThemeForegroundBrush}"/>
    </Style>
    <Style Selector="Button:pointerover">
      <Setter Property="Background" Value="{DynamicResource ThemeControlHighlightLowBrush}"/>
      <Setter Property="Opacity" Value="0.8"/>
    </Style>
    <Style Selector="Button:pressed">
      <Setter Property="Background" Value="{DynamicResource ThemeControlHighlightMediumBrush}"/>
      <Setter Property="Opacity" Value="0.9"/>
    </Style>
    <Style Selector="Button:disabled">
      <Setter Property="Opacity" Value="0.4"/>
    </Style>
    <Style Selector="Slider">
      <Setter Property="Background" Value="{DynamicResource ThemeControlLowBrush}"/>
      <Setter Property="Foreground" Value="{DynamicResource ThemeAccentBrush}"/>
      <Setter Property="Height" Value="4"/>
    </Style>
    <Style Selector="TextBlock.timeLabel">
      <Setter Property="FontFamily" Value="Segoe UI, sans-serif"/>
      <Setter Property="FontSize" Value="12"/>
      <Setter Property="Foreground" Value="{DynamicResource ThemeForegroundBrush}"/>
      <Setter Property="Opacity" Value="0.8"/>
      <Setter Property="VerticalAlignment" Value="Center"/>
    </Style>
  </UserControl.Styles>

  <Border Background="{DynamicResource ThemeBackgroundBrush}"
          BorderBrush="{DynamicResource ThemeBorderBrush}"
          BorderThickness="0,1,0,0"
          CornerRadius="0"
          Padding="12,8"
          Opacity="0.95">

    <Grid ColumnDefinitions="Auto,Auto,*,Auto,Auto,Auto,Auto,Auto"
          RowDefinitions="Auto"
          VerticalAlignment="Center"
          Margin="0">

      <!-- Play/Pause Button -->
      <Button x:Name="playPauseButton"
              Grid.Column="0"
              Width="40"
              Height="40"
              HorizontalAlignment="Center"
              VerticalAlignment="Center"
              FontSize="18"
              Content="â–¶"
              ToolTip.Tip="Play/Pause (Space)"
              Classes="playPause"/>

      <!-- Stop Button -->
      <Button x:Name="stopButton"
              Grid.Column="1"
              Width="36"
              Height="36"
              HorizontalAlignment="Center"
              VerticalAlignment="Center"
              FontSize="14"
              Content="â– "
              ToolTip.Tip="Stop (S)"
              Margin="4,0,0,0"
              Classes="stop"/>

      <!-- Time Slider (Progress Bar) -->
      <Grid Grid.Column="2"
            VerticalAlignment="Center"
            Margin="12,0">
        <Slider x:Name="timeSlider"
                Minimum="0"
                Maximum="100"
                Value="0"
                ToolTip.Tip="Seek (Click or drag)"
                Classes="timeSlider"
                VerticalAlignment="Center"/>
      </Grid>

      <!-- Time Label -->
      <TextBlock x:Name="timeLabel"
                 Grid.Column="3"
                 Text="00:00 / 00:00"
                 MinWidth="100"
                 HorizontalAlignment="Center"
                 VerticalAlignment="Center"
                 Margin="12,0"
                 Classes="timeLabel"
                 TextAlignment="Center"/>

      <!-- Volume Controls Container -->
      <Grid Grid.Column="4"
            ColumnDefinitions="Auto,Auto"
            VerticalAlignment="Center"
            Margin="8,0">

        <!-- Mute Button -->
        <Button x:Name="muteButton"
                Grid.Column="0"
                Width="32"
                Height="32"
                FontSize="14"
                Content="ðŸ”Š"
                ToolTip.Tip="Mute/Unmute (M)"
                Margin="0,0,4,0"
                Classes="mute"/>

        <!-- Volume Slider -->
        <Slider x:Name="volumeSlider"
                Grid.Column="1"
                Minimum="0"
                Maximum="100"
                Value="75"
                Width="80"
                ToolTip.Tip="Volume (Up/Down arrows)"
                Classes="volumeSlider"
                VerticalAlignment="Center"/>
      </Grid>

      <!-- Playback Speed Button -->
      <Button x:Name="speedButton"
              Grid.Column="5"
              Content="1.0x"
              MinWidth="50"
              Height="28"
              FontSize="11"
              ToolTip.Tip="Playback Speed (Click to cycle, [ ] to adjust)"
              Margin="8,0,0,0"
              Classes="speed"
              Padding="8,4"/>

      <!-- Spacer -->
      <Border Grid.Column="6" Width="8"/>

    </Grid>
  </Border>
</UserControl>

